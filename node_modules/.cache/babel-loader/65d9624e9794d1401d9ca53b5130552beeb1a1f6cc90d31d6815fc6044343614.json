{"ast":null,"code":"import pubsub from \"pubsub-js\";\nexport default {\n  name: 'School',\n  data() {\n    return {\n      name: '尚硅谷',\n      address: '北京'\n    };\n  },\n  mounted() {\n    // console.log(\"School\",this)\n    /* this.$bus.$on(\"hello\",(data)=>{\r\n    \tconsole.log(\"我是School组件，收到了数据\",data);\r\n    }) */\n    this.pubId = pubsub.subscribe(\"hello\", function (msgName, data) {\n      console.log(\"有人发布了hello消息，hello消息的回调执行了\", msgName, data);\n    });\n  },\n  beforeCreate() {\n    pubsub.unsubscribe(pubId);\n  }\n};","map":{"version":3,"mappings":"AAQA;AACA;EACAA;EACAC;IACA;MACAD;MACAE;IACA;EACA;EACAC;IACA;IACA;AACA;AACA;IACA;MACAC;IACA;EACA;EACAC;IACAC;EACA;AACA","names":["name","data","address","mounted","console","beforeCreate","pubsub"],"sourceRoot":"src/components","sources":["School.vue"],"sourcesContent":["<template>\r\n\t<div class=\"school\">\r\n\t\t<h2>学校名称：{{name}}</h2>\r\n\t\t<h2>学校地址：{{address}}</h2>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport pubsub from \"pubsub-js\"\r\n\texport default {\r\n\t\tname:'School',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname:'尚硅谷',\r\n\t\t\t\taddress:'北京',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log(\"School\",this)\r\n\t\t\t/* this.$bus.$on(\"hello\",(data)=>{\r\n\t\t\t\tconsole.log(\"我是School组件，收到了数据\",data);\r\n\t\t\t}) */\r\n\t\t\tthis.pubId = pubsub.subscribe(\"hello\",function(msgName,data){\r\n\t\t\t\tconsole.log(\"有人发布了hello消息，hello消息的回调执行了\",msgName,data);\r\n\t\t\t})\r\n\t\t},\r\n\t\tbeforeCreate(){\r\n\t\t\tpubsub.unsubscribe(pubId)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.school{\r\n\t\tbackground-color: skyblue;\r\n\t\tpadding: 5px;\r\n\t}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}